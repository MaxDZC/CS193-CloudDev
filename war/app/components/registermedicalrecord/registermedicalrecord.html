<div class="row">
  <div class="col col-md-8 col-md-offset-1">
    <h1>Register Medical Record</h1>
  </div>
</div>

<div class="row" ng-controller="RegisterMedicalRecordController">
  <ng-form name="createMedicalRecordForm">
    <div class="col col-md-2 col-md-offset-1" ng-hide="selectedPatient != null">
      <div class="row">
	      <div class="col col-md-6">
	        <label class="subtitle">Search</label>
	      </div>
	    </div>
		  <div class="match-padding">
	      <input type="text" placeholder="Enter a name" ng-model="searchFilter">
	      <button ng-click="go('/admin/register/patient')">New Patient</button>
	    </div>
    </div>
 
    <div class="col col-md-8" ng-hide="selectedPatient != null">
      <div class="col col-md-9"><!-- List sector -->
		    <span class="subtitle"><span ng-hide="searchFilter == ''">{{(patients | filter : {'name': searchFilter}).length}}</span><span ng-hide="searchFilter != ''">All {{patients.length}}</span> Results</span>
		    <hplus-select-patient-card dir-paginate="pat in patients | filter: {'lastname' : searchFilter} | itemsPerPage:10  | orderBy : ['lastname','firstname']" data="pat" ng-click="setSelected(pat)" ng-class="{'selectedCard__container': pat == selectedPatient}"></hplus-explore-patients-card>
        <!-- Pagination Section -->
        {{patients}}
        <dir-pagination-controls max-size="5"></dir-pagination-controls>
      </div>
    </div>
    
    <div class="col-md-10 col-md-offset-1" ng-hide="selectedPatient == null">
    <div class="row">
      <div class="col-md-5">
        <hplus-select-patient-card data="selectedPatient" ng-click="selectedPatient = null"></hplus-selected-patient-card>
      </div>
      
    </div>
      <hplus-selected-patient-card data="selectedPatient"></hplus-selected-patient-card>
      
	  </div>
	  
  </ng-form>
</div>